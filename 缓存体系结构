1. L1/L2/L3缓存：
一种小型、极快的内存，用于存放CPU最近使用或即将使用的数据。

L1 Cache： 速度最快，容量最小（几十KB），通常分为指令缓存和数据缓存，每个核心独享。
L2 Cache： 速度和容量介于L1和L3之间（几百KB到1MB），每个核心独享。
L3 Cache： 速度最慢，容量最大（几十MB），由所有核心共享，是访问内存前的最后一道屏障。

对性能的影响： 
缓存命中率是核心指标。
L1命中：延迟极低，约1-3个时钟周期。
L3命中：延迟较高，约30-40个时钟周期。
缓存未命中：必须去访问内存，延迟高达200-300个时钟周期，性能灾难。

测试中的应用： 
使用 perf stat -e cache-misses, cache-references 计算未命中率。
高未命中率是性能瓶颈的常见信号。压力测试工具（如 SPEC CPU）的很多测试用例就是设计来测试缓存和内存性能的。

2.NUMA架构：
在多路服务器（多个CPU插槽）中，每个CPU有自己的本地内存。
访问本地内存速度很快，但访问另一个CPU连接的内存（远程内存）则速度慢得多。

对性能的影响：
影响巨大！如果一个进程在NUMA Node 0上运行，却分配了NUMA Node 1上的内存，其性能会显著下降。

测试中的应用： 
这是服务器测试和调优的重中之重。
使用 numactl --hardware 查看NUMA拓扑。
使用 numactl --cpunodebind=X --membind=Y 来将进程绑定到特定CPU和内存节点上进行对比测试。
测试方案中必须包含NUMA本地和远程访问的性能对比场景。
